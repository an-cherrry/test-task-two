@startuml
'https://plantuml.com/class-diagram

entity orders {
  PK *id : uuid
  --
  FK customer_id : uuid
  FK town_id : uuid
  name : text
  price: decimal
}

entity towns {
  PK *id : uuid
  --
  town_name: text
  address: text
}

entity items {
  PK *id : uuid
  --
  name : varchar(255)
  price: decimal
}

entity customers {
  PK *id : uuid
  --
  name : varchar(255)
  birth_date : date
  email : varchar(255) unique
  password_hash : text
  phone_number : varchar(255)
}

entity orders_items {
  PK *id : uuid
  --
  FK order_id : uuid
  FK item_id : uuid
  item_quantity: integer
}

orders ||--|{ orders_items: order_id
items ||--|{ orders_items: item_id
customers ||--o{ orders: customer_id
towns ||--o{ orders : town_id

@enduml